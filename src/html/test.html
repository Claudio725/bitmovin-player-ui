<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <script src="https://bitmovin-a.akamaihd.net/bitmovin-player/stable/7/bitmovinplayer.js"></script>
    <script src="js/bitmovinplayer-ui.js"></script>
    <link rel="stylesheet" href="css/bitmovinplayer-ui-legacy.css">
    <link rel="stylesheet" href="css/bitmovinplayer-ui.css">
</head>

<body>
<div id="player"></div>
<script type="text/javascript">
    var player = bitmovin.player("player");

    var conf = {
        key: "YOUR-PLAYER-LICENSE-KEY",
        source: {
            dash: "//bitmovin-a.akamaihd.net/content/MI201109210084_1/mpds/f08e80da-bf1d-4e3d-8899-f0f6155f6efa.mpd",
            hls: "//bitmovin-a.akamaihd.net/content/MI201109210084_1/m3u8s/f08e80da-bf1d-4e3d-8899-f0f6155f6efa.m3u8",
            progressive: "//bitmovin-a.akamaihd.net/content/MI201109210084_1/MI201109210084_mpeg-4_hd_high_1080p25_10mbits.mp4",
            poster: "//bitdash-a.akamaihd.net/content/art-of-motion_drm/art-of-motion_poster.jpg",
            title: "Bitmovin Player " + player.version,
            description: "This example shows how you can add a custom button to the Bitmovin Player UI"
        },
        style: {
            ux: false
        }
    };

    var settingsPanel = new bitmovin.playerui.SettingsPanel({
        components: [
            new bitmovin.playerui.SettingsPanelItem('Video Quality', new bitmovin.playerui.VideoQualitySelectBox()),
            new bitmovin.playerui.SettingsPanelItem('Audio Track', new bitmovin.playerui.AudioTrackSelectBox()),
            new bitmovin.playerui.SettingsPanelItem('Audio Quality', new bitmovin.playerui.AudioQualitySelectBox()),
            new bitmovin.playerui.SettingsPanelItem('Subtitles', new bitmovin.playerui.SubtitleSelectBox())
        ],
        hidden: true
    });

    var customRewindButton = new bitmovin.playerui.Button({cssClass: "ui-playbacktogglebutton"});
    customRewindButton.onClick.subscribe(function() {player.seek(player.getCurrentTime()-10)});

    var controlBar = new bitmovin.playerui.ControlBar({
        components: [
            settingsPanel,
            new bitmovin.playerui.Container({
                components: [
                    new bitmovin.playerui.PlaybackTimeLabel({ timeLabelMode: bitmovin.playerui.PlaybackTimeLabelMode.CurrentTime, hideInLivePlayback: true }),
                    new bitmovin.playerui.SeekBar({label: new bitmovin.playerui.SeekBarLabel()}),
                    new bitmovin.playerui.PlaybackTimeLabel({ timeLabelMode: bitmovin.playerui.PlaybackTimeLabelMode.TotalTime, cssClasses: ['text-right'] })
                ],
                cssClasses: ['controlbar-top']
            }),
            new bitmovin.playerui.Container({
                components: [
                    new bitmovin.playerui.PlaybackToggleButton(),
                    new bitmovin.playerui.VolumeControlButton(),
                    //new bitmovin.playerui.VolumeSlider(),
                    //customRewindButton,
                    new bitmovin.playerui.Spacer(),
                    new bitmovin.playerui.PictureInPictureToggleButton(),
                    new bitmovin.playerui.AirPlayToggleButton(),
                    new bitmovin.playerui.CastToggleButton(),
                    new bitmovin.playerui.VRToggleButton(),
                    new bitmovin.playerui.FullscreenToggleButton(),
                    new bitmovin.playerui.SettingsToggleButton({settingsPanel: settingsPanel})
                ],
                cssClasses: ['controlbar-bottom']
            })
        ]
    });
    var customPlayerUI = new bitmovin.playerui.UIContainer({
        components: [
            new bitmovin.playerui.SubtitleOverlay(),
            new bitmovin.playerui.BufferingOverlay(),
            new bitmovin.playerui.PlaybackToggleOverlay(),
            new bitmovin.playerui.CastStatusOverlay(),
            controlBar,
            new bitmovin.playerui.TitleBar(),
            new bitmovin.playerui.RecommendationOverlay(),
            new bitmovin.playerui.ErrorMessageOverlay()
        ], cssClasses: ['ui-skin-modern']
    });

    var myUiManager;
    player.setup(conf).then(function (playerInstance) {
        myUiManager = new bitmovin.playerui.UIManager(playerInstance, customPlayerUI);
        console.log("Successfully created bitmovin player instance");
    }, function (reason) {
        console.log("Error while creating bitmovin player instance", reason);
    });
</script>
</body>
</html>
